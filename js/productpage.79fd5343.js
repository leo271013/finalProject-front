"use strict";(self["webpackChunkfinal_front"]=self["webpackChunkfinal_front"]||[]).push([[233],{2354:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"productpage mx-md-8 px-md-8 pb-sm-16"},[s("div",{staticClass:"mt-16 mx-md-8 px-md-8 pl-sm-8"},[s("v-breadcrumbs",{attrs:{items:t.address,large:""}}),s("v-row",{staticClass:"mt-8 ml-md-8"},[s("v-col",{staticClass:"pt-sm-16",attrs:{cols:"6"}},[s("v-img",{staticClass:"mt-sm-8",attrs:{src:t.img,width:"500"}})],1),s("v-col",{staticClass:"ml-md-16",attrs:{md:"4",sm:"5",col:""}},[s("v-list",{attrs:{flat:""}},[s("v-subheader",{staticClass:"text-h4 mb-md-8 pink--text borderEdit"},[t._v("商品內容")]),t._l(t.product,(function(e){return s("v-list-item",{key:e.title,staticClass:"ml-sm-2"},[s("v-list-item-icon",{staticClass:"mx-0"},[s("v-icon",{attrs:{color:"pink"}},[t._v("mdi-circle-small")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.title)+":"),s("br",{staticClass:"d-sm-block d-md-none"}),s("span",{staticClass:"text-h6 ml-2"},[t._v(" "+t._s(e.content))])])],1)],1)}))],2),s("v-btn",{staticClass:"mt-6",attrs:{block:"",dark:"",color:"orange darken-2",disabled:t.isMe},on:{click:function(e){return t.sendMessage()}}},[t._v("聯絡賣家")]),t.user.isAdmin?s("v-btn",{staticClass:"mt-6",attrs:{block:"",outlined:"",color:"red"},on:{click:t.unsell}},[t._v("違規下架")]):t._e()],1)],1),s("v-divider",{staticClass:"my-12"}),s("v-row",[s("v-col",[[s("v-card",{staticClass:"mx-auto transparent",attrs:{flat:""}},[s("v-card-title",{staticClass:"text-h4 pink--text borderEdit py-0 mb-16"},[t._v("商品介紹")]),s("v-card",{staticClass:"mx-auto",attrs:{flat:"",width:"600"}},[s("v-carousel",{attrs:{cycle:"","hide-delimiter-background":"","show-arrows-on-hover":""}},t._l(t.items,(function(t,e){return s("v-carousel-item",{key:e,attrs:{src:t.src,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1)],1),s("v-card-title",[t._v(" "+t._s(t.title)+" ")]),s("v-card-text",[t._v(" "+t._s(t.content)+" ")])],1)]],2)],1)],1)])},r=[],n=s(7061),o={name:"ProductPage",data:()=>({product:[{title:"商品名稱",content:""},{title:"分類",content:""},{title:"商品新舊",content:""},{title:"以物易物",content:""},{title:"數量",content:""},{title:"交換對象",content:""}],items:[{src:"https://cdn.vuetifyjs.com/images/carousel/squirrel.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/sky.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/bird.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/planet.jpg"}],address:[{text:"全部",to:"/"},{text:"",to:"/"}],title:"",content:"",img:"",text:"叮咚叮咚",sending:!1}),methods:{async sendMessage(){if(this.user.isLogin){if(this.sending||0===this.products.userId.length)return;this.sending=!0;try{await this.api.post(`/chats/members/${this.products._id}/messages`,{text:this.text,product:{userId:this.products.userId,title:this.products.name,image:this.products.image}},{headers:{authorization:"Bearer "+this.user.token}})}catch(t){console.log(t)}this.sending=!1}else alert("請先登入");n.Z.push("/memberpage/membermessage")},async unsell(){const t={sale:!1},e=new FormData;for(const i in t)"_id"!==i&&e.append(i,t[i]);try{await this.api.patch("/products/"+this.products._id,e,{headers:{authorization:"Bearer "+this.token}}),alert("下架成功"),await this.api.post(`/chats/members/${this.products._id}/messages`,{text:"因違反規定，管理員已將您的商品下架，請修改後重新上架",product:{userId:this.products.userId,title:this.products.name,image:this.products.image}},{headers:{authorization:"Bearer "+this.user.token}}),n.Z.push("/")}catch(s){alert("下架失敗")}}},computed:{products(){return this.$store.state.product},user(){return this.$store.getters.user},isMe(){return this.products.userId===this.user.userId}},async mounted(){this.product[0].content=this.products.name,this.product[1].content=this.products.class,this.product[2].content=this.products.state,this.product[3].content=this.products.barter,this.product[4].content=this.products.quantity,this.product[5].content=this.products.goal,this.title=this.products.introTitle,this.content=this.products.introContent,this.img=this.products.image,this.items[0].src=this.products.image,document.title=this.products.name+" | Swapper"}},a=o,l=s(1001),d=s(3453),c=s.n(d),h=s(9367),u=s(5530),m=(0,u.Z)(h.Z).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(t){const{tag:e,data:s}=this.generateRouteLink();return t("li",[t(e,{...s,attrs:{...s.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},this.$slots.default)])}}),p=s(8131),v=(0,p.Ji)("v-breadcrumbs__divider","li"),g=s(2066),f=(0,u.Z)(g.Z).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(v,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const t=[],e=!!this.$scopedSlots.item,s=[];for(let i=0;i<this.items.length;i++){const r=this.items[i];s.push(r.text),e?t.push(this.$scopedSlots.item({item:r})):t.push(this.$createElement(m,{key:s.join("."),props:r},[r.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render(t){const e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}}),w=s(6847),b=s(2026),C=s(5255),T=s(2246),y=s(9690),Z=s(7024),_=s(5596),x=s(4456),k=s(5288),$=s(893),I=s(907),V=s(8218),B=s(3560),D=s(7894),S=s(6975),E=(0,l.Z)(a,i,r,!1,null,"276cb7bf",null),G=E.exports;c()(E,{VBreadcrumbs:f,VBtn:w.Z,VCard:b.Z,VCardText:C.ZB,VCardTitle:C.EB,VCarousel:T.Z,VCarouselItem:y.Z,VCol:Z.Z,VDivider:_.Z,VIcon:x.Z,VImg:k.Z,VList:$.Z,VListItem:I.Z,VListItemContent:V.km,VListItemIcon:B.Z,VListItemTitle:V.V9,VRow:D.Z,VSubheader:S.Z})},2246:function(t,e,s){s.d(e,{Z:function(){return c}});var i=s(3269),r=s(8205),n=s(9524),o=s(5174),a=s(7565),l=s(8131),d=s(8219),c=i.Z.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>t>0},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},provide(){return{parentTheme:this.theme}},data(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes(){return{...i.Z.options.computed.classes.call(this),"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical}},isDark(){return this.dark||!this.light},isVertical(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height(t,e){t!==e&&t&&(this.internalHeight=t)},cycle(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created(){this.$attrs.hasOwnProperty("hide-controls")&&(0,d.fK)("hide-controls",':show-arrows="false"',this)},mounted(){this.startTimeout()},methods:{genControlIcons(){return this.isVertical?null:i.Z.options.methods.genControlIcons.call(this)},genDelimiters(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems(){const t=this.items.length,e=[];for(let s=0;s<t;s++){const i=this.$createElement(r.Z,{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",s+1,t)},props:{icon:!0,small:!0,value:this.getValue(this.items[s],s)}},[this.$createElement(n.Z,{props:{size:18}},this.delimiterIcon)]);e.push(i)}return this.$createElement(a.Z,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:t=>{this.internalValue=t}}},e)},genProgress(){return this.$createElement(o.Z,{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render(t){const e=i.Z.options.render.call(this,t);return e.data.style=`height: ${(0,l.kb)(this.height)};`,this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}})},9690:function(t,e,s){s.d(e,{Z:function(){return m}});var i=s(6986),r=s(1302),n=s(2706),o=s(8131),a=s(5530);const l=(0,a.Z)(i.Z,(0,r.d)("windowGroup","v-window-item","v-window"));var d=l.extend().extend().extend({name:"v-window-item",directives:{Touch:n.Z},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,o.kb)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,o.kb)(t.clientHeight))}))}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}}),c=s(5288),h=s(9367);const u=(0,a.Z)(d,h.Z);var m=u.extend().extend({name:"v-carousel-item",inject:{parentTheme:{default:{isDark:!1}}},provide(){return{theme:this.parentTheme}},inheritAttrs:!1,methods:{genDefaultSlot(){return[this.$createElement(c.Z,{staticClass:"v-carousel__item",props:{...this.$attrs,height:this.windowGroup.internalHeight},on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},(0,o.z9)(this))]},genWindowItem(){const{tag:t,data:e}=this.generateRouteLink();return e.staticClass="v-window-item",e.directives.push({name:"show",value:this.isActive}),this.$createElement(t,e,this.genDefaultSlot())}}})},6975:function(t,e,s){s.d(e,{Z:function(){return n}});var i=s(2066),r=s(5530),n=(0,r.Z)(i.Z).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},7565:function(t,e,s){var i=s(7228);e["Z"]=i.y.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return i.y.options.computed.classes.call(this)}},methods:{genData:i.y.options.methods.genData}})}}]);
//# sourceMappingURL=productpage.79fd5343.js.map