(function(){"use strict";var t={1857:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var r=n(144),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("div",{staticClass:"px-xl-16 pt-10",attrs:{id:"bg"}},[r("v-app-bar",{attrs:{elevation:"1",fixed:"",src:n(8373),height:"110"}},[r("router-link",{staticClass:"logo mt-6 hidden-xs",attrs:{to:"/"}},[r("v-img",{attrs:{src:n(9574),alt:"logo",contain:""}})],1),r("v-dialog",{attrs:{"close-on-content-click":!1,"max-width":"30vh"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-tabs",{staticClass:"mt-6",attrs:{right:"","hide-slider":"",dark:"",height:"80","active-class":"fontColor"}},[r("v-tabs-slider"),r("v-tab",{staticClass:"px-md-6",attrs:{to:"/"}},[r("h2",[t._v("商品")])]),r("v-tab",{staticClass:"px-md-6",attrs:{to:"/grouppage",disabled:""}},[r("h2",[t._v("團體募集")])]),r("v-tab",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:!t.user.isLogin,expression:"!user.isLogin"}],staticClass:"px-md-6 none"},"v-tab",o,!1),n),[r("h2",[t._v("會員登入")])]),t.user.isLogin?r("v-menu",{attrs:{bottom:"","offset-y":"","open-on-hover":"","close-on-click":!0,"close-on-content-click":!0,transition:"fade-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[r("v-tab",t._g(t._b({staticClass:"px-md-6",attrs:{to:"/memberpage"}},"v-tab",o,!1),n),[r("h2",[t._v("會員專區")])])]}}],null,!0)},[r("v-list",{staticClass:"text-center py-0"},[r("v-list-item-group",t._l(t.lists,(function(e,n){return r("span",{key:n},[r("v-list-item",3==n?{staticClass:"red--text",on:{click:t.logout}}:{staticClass:"orange--text text--darken-2",attrs:{to:t.lists[n].url}},[r("v-list-item-title",[t._v(t._s(t.lists[n].name))])],1),2==n?r("v-divider"):t._e()],1)})),0)],1)],1):t._e(),r("v-tab",{staticClass:"px-md-6",attrs:{to:"/about"}},[r("h2",[t._v("關於我們")])])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{staticClass:"pa-8 text-center"},[r("h2",{directives:[{name:"show",rawName:"v-show",value:t.logining,expression:"logining"}],staticClass:"animate__animated animate__fadeIn animate__fast"},[t._v(" 會員登入 ")]),r("h2",{directives:[{name:"show",rawName:"v-show",value:!t.logining,expression:"!logining"}],staticClass:"animate__animated animate__fadeIn animate__fast"},[t._v(" 會員註冊 ")]),r("v-form",{directives:[{name:"show",rawName:"v-show",value:t.logining,expression:"logining"}],ref:"form",staticClass:"animate__animated animate__fadeIn animate__fast",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{counter:20,rules:t.accountRules,label:"帳號",required:""},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}}),r("v-text-field",{attrs:{rules:t.passwordRules,label:"密碼",required:"","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",counter:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),r("v-btn",{staticClass:"ma-4",attrs:{disabled:!t.valid,outlined:"",rounded:"",color:"orange",type:"submit"},on:{click:function(e){t.accountvalidate,t.dialog=!1}}},[t._v(" 登入 ")]),r("br"),r("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){t.logining=!1}}},[t._v(" 還沒有帳號? 立即註冊 ")])],1),r("v-form",{directives:[{name:"show",rawName:"v-show",value:!t.logining,expression:"!logining"}],ref:"form2",staticClass:"animate__animated animate__fadeIn animate__fast",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{counter:20,rules:t.accountRules,label:"帳號",required:""},model:{value:t.form2.account,callback:function(e){t.$set(t.form2,"account",e)},expression:"form2.account"}}),r("v-text-field",{attrs:{rules:t.passwordRules,label:"密碼",required:"","append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",counter:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.form2.password,callback:function(e){t.$set(t.form2,"password",e)},expression:"form2.password"}}),r("v-btn",{staticClass:"ma-4",attrs:{disabled:!t.valid,outlined:"",rounded:"",color:"orange",type:"submit"},on:{click:t.accountvalidate2}},[t._v(" 註冊 ")]),r("br"),r("v-btn",{attrs:{text:"",color:"error"},on:{click:function(e){t.logining=!0}}},[t._v(" 已有帳號? 立即登入 ")])],1)],1)],1),r("v-spacer"),r("VueToggles",{staticClass:"right ml-md-8 ml-sm-2 pr-12",attrs:{value:t.isToggled,width:"50","checked-text":" 🌛 ","unchecked-text":" 🌞 ",checkedBg:"blue",uncheckedBg:"white"},on:{click:t.turnOn}})],1),[r("div",{staticClass:"text-center"},[r("v-snackbar",{staticClass:"mt-16",attrs:{top:"",color:t.sColor,"multi-line":"",timeout:"1500",transition:"scale-transition"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{color:"blue lighten-5",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[r("h3",{staticClass:"ml-4"},[t._v(t._s(t.sText))])]),r("v-snackbar",{staticClass:"mt-16",attrs:{top:"",color:"red","multi-line":"",timeout:"1500",transition:"scale-transition"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{color:"blue lighten-5",text:""},on:{click:function(e){t.snackbar3=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar3,callback:function(e){t.snackbar3=e},expression:"snackbar3"}},[r("h3",{staticClass:"ml-4"},[t._v("已登出")])])],1)],[r("div",{staticClass:"text-center"},[r("v-snackbar",{staticClass:"mt-16",attrs:{top:"",color:t.reColor,"multi-line":"",timeout:"1500",transition:"scale-transition"},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[r("v-btn",t._b({attrs:{color:"blue lighten-5",text:""},on:{click:function(e){t.snackbar2=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar2,callback:function(e){t.snackbar2=e},expression:"snackbar2"}},[r("h3",{staticClass:"ml-4"},[t._v(t._s(t.reText))])])],1)],r("v-main",{staticClass:"mt-8"},[r("router-view")],1)],2),r("v-footer",{staticClass:"bottom black--text",attrs:{padless:"",color:"white",width:"100%"}},[r("v-col",{staticClass:"text-center footer",attrs:{cols:"12"}},[t._v(" Copyright © "+t._s((new Date).getFullYear())+" "),r("strong",[t._v("Swapper")]),t._v(". All rights reserved. 版權所有© "+t._s((new Date).getFullYear())+" "),r("strong",[t._v("Swapper")])])],1)],1)},a=[],s=n(6198),i=(n(5666),{name:"App",data:function(){return{valid:!0,form:{account:"",password:""},form2:{account:"",password:""},accountRules:[function(t){return!!t||"請輸入帳號"},function(t){return t&&t.length<=10||"帳號需介於4~20個字元之間"},function(t){return t&&t.length>=4||"帳號需介於4~20個字元之間"}],passwordRules:[function(t){return!!t||"請輸入密碼"}],isToggled:!1,logining:!0,lists:[{name:"商品刊登",url:"/memberpage/memberpost"},{name:"上架商品編輯",url:"/memberpage/postedit"},{name:"訊息",url:"/memberpage/membermessage"},{name:"會員登出"}],show:!1,snackbar:!1,snackbar2:!1,snackbar3:!1,reText:"",reColor:"",dialog:!1,state:""}},methods:{accountvalidate:function(){this.$refs.form.validate()},accountvalidate2:function(){this.$refs.form2.validate()},turnOn:function(){this.isToggled=!this.isToggled,!0===this.isToggled?this.$vuetify.theme.dark=!0:this.$vuetify.theme.dark=!1},register:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.$refs.form2.validate(),n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.api.post("/users",t.form2);case 6:t.reText="註冊成功",t.reColor="success",t.snackbar2=!0,t.logining=!0,e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](3),t.reText="帳號重複",t.reColor="red",t.snackbar2=!0;case 17:case"end":return e.stop()}}),e,null,[[3,12]])})))()},login:function(){this.$store.dispatch("login",this.form),this.snackbar=!0},logout:function(){this.$store.dispatch("logout"),this.snackbar3=!0}},computed:{user:function(){return this.$store.getters.user},sColor:function(){return this.$store.state.sColor},sText:function(){return this.$store.state.sText}},created:function(){var t=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.dispatch("getInfo");case 1:case"end":return e.stop()}}),e)})))()}}),c=i,u=n(1001),l=n(3453),d=n.n(l),p=n(303),f=n(1466),m=n(6847),h=n(2026),v=n(7024),g=n(9497),b=n(5596),w=n(7718),k=n(3240),x=n(5288),_=n(893),C=n(907),Z=n(3080),y=n(8218),V=n(4021),I=n(5842),T=n(4654),S=n(2515),R=n(756),L=n(3780),N=n(7731),E=n(4980),O=(0,u.Z)(c,o,a,!1,null,"a4b530ee",null),M=O.exports;d()(O,{VApp:p.Z,VAppBar:f.Z,VBtn:m.Z,VCard:h.Z,VCol:v.Z,VDialog:g.Z,VDivider:b.Z,VFooter:w.Z,VForm:k.Z,VImg:x.Z,VList:_.Z,VListItem:C.Z,VListItemGroup:Z.Z,VListItemTitle:y.V9,VMain:V.Z,VMenu:I.Z,VSnackbar:T.Z,VSpacer:S.Z,VTab:R.Z,VTabs:L.Z,VTabsSlider:N.Z,VTextField:E.Z});var j=n(5205);(0,j.z)("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var P=n(7061),$=n(615),A=n(5121);r.Z.use(A.Z);var Q=new A.Z({}),B=n(4268),F=(n(4408),n(6106));r.Z.component("VueToggles",B.Z),r.Z.component("ImgInputer",F.Z),r.Z.config.productionTip=!1,new r.Z({router:P.Z,store:$.Z,vuetify:Q,render:function(t){return t(M)}}).$mount("#app")},4408:function(t,e,n){n.d(e,{h:function(){return u}});n(1539),n(6699),n(2023);var r=n(144),o=n(9669),a=n.n(o),s=n(2346),i=n(615),c=n(7061),u=a().create({baseURL:"https://sodfnfnccccc.herokuapp.com/"});u.interceptors.response.use((function(t){return t}),(function(t){if(t.response){if(401===t.response.status&&"/users/extend"!==t.config.url){var e=t.config;return u.post("/users/extend",{},{headers:{authorization:"Bearer "+i.Z.state.token}}).then((function(t){var n=t.data;return i.Z.commit("extend",n.result.token),e.headers.authorization="Bearer "+i.Z.state.token,a()(e)})).catch((function(t){return i.Z.commit("logout"),c.Z.push("/"),Promise.reject(t)}))}}else"ECONNABORTED"===t.code&&t.message.includes("timeout")?alert("連線逾時"):alert("網路不穩定");return Promise.reject(t)})),r.Z.use(s.Z,{axios:a(),api:u})},7061:function(t,e,n){n.d(e,{Z:function(){return O}});n(1539),n(8783),n(3948);var r=n(144),o=n(4903),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-row",{staticClass:"mt-12 mx-8 pt-sm-8 pt-md-0",attrs:{justify:"center"}},[n("v-col",{staticClass:"d-md-none",attrs:{cols:"12"}},[n("v-row",{attrs:{justify:"space-around"}},[n("v-col",{attrs:{cols:"12"}},[n("v-sheet",{staticClass:"py-4 px-1"},[n("v-chip-group",{attrs:{mandatory:"","active-class":"red--text red"}},t._l(t.items,(function(e){return n("v-chip",{key:e,staticClass:"mx-auto",attrs:{outlined:""},on:{click:function(n){return t.type(e)}}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1)],1),n("v-col",{attrs:{cols:3}},[n("v-text-field",{staticClass:"mb-md-2 mb-sm-8",attrs:{label:"搜尋商品名稱",color:"pink"},model:{value:t.searchtext,callback:function(e){t.searchtext=e},expression:"searchtext"}})],1),n("v-col",{staticClass:"pa-0 colHeight",attrs:{cols:"12"}},[n("v-row",[n("v-col",{staticClass:"d-sm-none d-md-block",attrs:{cols:2}},[[n("v-card",{staticClass:"ml-lg-16",attrs:{"max-width":"120"}},[n("v-list",{staticClass:"text-center pa-0",attrs:{nav:"",flat:""}},[n("v-list-item-group",{attrs:{mandatory:""}},t._l(t.items,(function(e,r){return n("div",{key:e[r]},[n("v-list-item",{staticClass:"mb-0",attrs:{color:"pink","active-class":"select"},on:{click:function(n){return t.type(e)}}},[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e)}})],1)],1),"衣鞋包錶"!=e?n("v-divider"):t._e()],1)})),0)],1)],1)]],2),n("v-col",[n("v-row",[n("v-col",{staticClass:"overflow-auto",attrs:{cols:12}},[n("v-row",{staticClass:"px-lg-16"},t._l(t.search,(function(e){return n("v-col",{key:e.name,attrs:{sm:"4",lg:3}},[[n("v-card",{staticClass:"overflow-hidden mx-sm-auto",attrs:{"max-width":"250",height:"280",hover:""},on:{click:function(n){return t.into(e)}}},[n("template",{slot:"progress"},[n("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),n("v-img",{attrs:{height:"185",src:e.image}}),n("v-card-title",{staticClass:"py-1 font-weight-bold"},[t._v(t._s(e.name))]),n("v-card-text",[t._v(t._s(e.introTitle))])],2)]],2)})),1)],1)],1)],1)],1)],1),n("v-col",{staticClass:"mt-sm-4",attrs:{cols:"12"}},[n("div",{staticClass:"mt-md-6 mt-sm-12 mb-sm-8 mb-md-0"},[n("v-pagination",{attrs:{length:t.productQ,color:"pink"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])],1)],1)},s=[],i=n(6198),c=(n(5666),n(4916),n(4765),n(7327),n(6699),n(2023),n(8309),{name:"HomeView",data:function(){return{items:["全部","電腦","通訊","數位","家電","日用","生活","運動戶外","美妝","衣鞋包錶"],searchtext:"",productQ:1,productP:[],page:1,products:[]}},methods:{type:function(t){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function n(){var r,o,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("全部"!==t){n.next=15;break}return n.prev=1,n.next=4,e.api.get("/showProducts");case 4:r=n.sent,o=r.data,e.products=o.result,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),alert("網路錯誤");case 12:window.innerWidth<=960?e.products.length>6?e.productQ=Math.floor(e.search.length/6)+1:e.productQ=1:e.products.length>8?e.productQ=Math.floor(e.search.length/8)+1:e.productQ=1,n.next=27;break;case 15:return n.prev=15,n.next=18,e.api.get("/showProducts/"+t);case 18:a=n.sent,s=a.data,e.products=s.result,n.next=26;break;case 23:n.prev=23,n.t1=n["catch"](15),alert("網路錯誤");case 26:window.innerWidth<=960?e.products.length>6?e.productQ=Math.floor(e.search.length/6)+1:e.productQ=1:e.products.length>8?e.productQ=Math.floor(e.search.length/8)+1:e.productQ=1;case 27:case"end":return n.stop()}}),n,null,[[1,9],[15,23]])})))()},into:function(t){this.$store.commit("into",t)}},created:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.get("/showProducts");case 3:n=e.sent,r=n.data,t.products=r.result,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),alert("網路錯誤");case 11:window.innerWidth<=960?t.products.length>6?t.productQ=Math.floor(t.search.length/6)+1:t.productQ=1:t.products.length>8?t.productQ=Math.floor(t.search.length/8)+1:t.productQ=1;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},computed:{search:function(){var t=this,e=this.products.filter((function(e){if(e.name.toLowerCase().includes(t.searchtext.toLowerCase()))return!0}));return e.filter((function(n,r){if(window.innerWidth<=960){if(e.length<6)return!0;if(e.length>=6&&r>=6*(t.page-1)&&r<6*(t.page-1)+6)return!0}else{if(e.length<8)return!0;if(e.length>=8&&r>=8*(t.page-1)&&r<8*(t.page-1)+8)return!0}}))}},watch:{search:function(t,e){(""!==this.searchtext||t>e&&""===this.searchtext)&&(window.innerWidth<=960?this.products.length>6?this.productQ=Math.floor(this.search.length/6)+1:this.productQ=1:this.products.length>8?this.productQ=Math.floor(this.search.length/8)+1:this.productQ=1)},searchtext:function(){this.page=1}}}),u=c,l=n(1001),d=n(3453),p=n.n(d),f=n(2026),m=n(5255),h=n(5126),v=n(549),g=n(7024),b=n(5596),w=n(5288),k=n(893),x=n(907),_=n(8218),C=n(3080),Z=n(2791),y=n(510),V=n(7894),I=n(801),T=n(4980),S=(0,l.Z)(u,a,s,!1,null,null,null),R=S.exports;p()(S,{VCard:f.Z,VCardText:m.ZB,VCardTitle:m.EB,VChip:h.Z,VChipGroup:v.Z,VCol:g.Z,VDivider:b.Z,VImg:w.Z,VList:k.Z,VListItem:x.Z,VListItemContent:_.km,VListItemGroup:C.Z,VListItemTitle:_.V9,VPagination:Z.Z,VProgressLinear:y.Z,VRow:V.Z,VSheet:I.Z,VTextField:T.Z});var L=n(615);r.Z.use(o.Z);var N=[{path:"/",name:"home",component:R,meta:{title:"Swapper"}},{path:"/about",name:"about",component:function(){return n.e(443).then(n.bind(n,6533))},meta:{title:"關於我們 | Swapper"}},{path:"/grouppage",name:"grouppage",component:function(){return n.e(318).then(n.bind(n,8124))},meta:{title:"團體募集 | Swapper"}},{path:"/memberpage",component:function(){return n.e(490).then(n.bind(n,2210))},children:[{path:"",name:"memberpage",component:function(){return n.e(490).then(n.bind(n,5761))},meta:{title:"會員專區 | Swapper",login:!0}},{path:"memberpost",name:"memberpost",component:function(){return n.e(490).then(n.bind(n,7670))},meta:{title:"商品刊登 | Swapper",login:!0}},{path:"postedit",name:"postedit",component:function(){return n.e(490).then(n.bind(n,7879))},meta:{title:"商品管理 | Swapper",login:!0}},{path:"membermessage",name:"membermessage",component:function(){return n.e(490).then(n.bind(n,501))},meta:{title:"訊息 | Swapper",login:!0}}]},{path:"/productpage",name:"productpage",component:function(){return n.e(233).then(n.bind(n,2354))},meta:{title:"商品頁 | Swapper"}}],E=new o.Z({routes:N});E.beforeEach((function(t,e,n){var r=L.Z.getters.user;t.meta.login&&!r.isLogin?n("/"):n()})),E.afterEach((function(t){document.title=t.meta.title}));var O=E},615:function(t,e,n){var r=n(6198),o=n(3019),a=(n(5666),n(144)),s=n(629),i=n(4408),c=n(4702),u=n(7061);a.Z.use(s.ZP),e["Z"]=new s.ZP.Store({state:{userId:"",token:"",account:"",role:0,userInfo:{userName:"",aboutMe:"",image:""},userImg:"",sColor:"",sText:"",uploadText:"上傳成功，請稍後．．．",product:{},chatid:""},getters:{user:function(t){return(0,o.Z)({isLogin:t.token.length>0,isAdmin:1===t.role},t)}},mutations:{login:function(t,e){t.userId=e._id,t.token=e.token,t.account=e.account,t.role=e.role,t.userInfo.userName=e.userName,t.userInfo.aboutMe=e.aboutMe,t.userImg=e.image},logout:function(t){t.userId="",t.token="",t.account="",t.role=0,t.userInfo.userName="",t.userInfo.aboutMe="",t.userImg="",u.Z.push("/")},getInfo:function(t,e){t.userId=e._id,t.account=e.account,t.role=e.role,t.userInfo.userName=e.userName,t.userInfo.aboutMe=e.aboutMe,t.userImg=e.image},extend:function(t,e){t.token=e},uploadimg:function(t,e){t.userInfo.image=e.image},into:function(t,e){t.product=e,u.Z.push("/productpage")}},actions:{login:function(t,e){return(0,r.Z)(regeneratorRuntime.mark((function n(){var r,o,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,n.prev=1,n.next=4,i.h.post("/users/login",e);case 4:a=n.sent,s=a.data,r("login",s.result),o.sColor="success",o.sText="登入成功",n.next=15;break;case 11:n.prev=11,n.t0=n["catch"](1),o.sColor="red",o.sText="帳號或密碼錯誤";case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()},updateInfo:function(t,e){var n=this;return(0,r.Z)(regeneratorRuntime.mark((function r(){var a,s,c,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(c in a=t.state,n.commit("uploadimg",e),s=new FormData,a.userInfo)"_id"!==c&&s.append(c,a.userInfo[c]);return r.prev=4,r.next=7,i.h.patch("/users/"+a.userId,s,{headers:{authorization:"Bearer "+a.token}});case 7:u=r.sent,l=u.data,a.userInfo[a.userInfo.index]=(0,o.Z)((0,o.Z)({},a.userInfo),{},{image:l.result.image}),location.reload(),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](4),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[4,13]])})))()},logout:function(t){return(0,r.Z)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.prev=1,e.next=4,i.h["delete"]("/users/logout",{headers:{authorization:"Bearer "+r.token}});case 4:n("logout"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))()},getInfo:function(t){return(0,r.Z)(regeneratorRuntime.mark((function e(){var n,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,0!==r.token.length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,i.h.get("/users/me",{headers:{authorization:"Bearer "+r.token}});case 6:o=e.sent,a=o.data,n("getInfo",a.result),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),n("logout");case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))()}},modules:{},plugins:[(0,c.Z)({key:"user",paths:["token"]})]})},8373:function(t,e,n){t.exports=n.p+"img/bar.a8381ded.svg"},9574:function(t,e,n){t.exports=n.p+"img/logo.f92da142.svg"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return t[r](a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,r,o,a){if(!r){var s=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],a=t[l][2];for(var i=!0,c=0;c<r.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[c])}))?r.splice(c--,1):(i=!1,a<s&&(s=a));if(i){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+{233:"productpage",318:"grouppage",443:"about",490:"memberpage"}[t]+"-legacy."+{233:"33b9ad9e",318:"361dfe4e",443:"381d14af",490:"c5bdb8af"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+{233:"productpage",490:"memberpage"}[t]+"."+{233:"917fedc7",490:"7a32405f"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="final_front:";n.l=function(r,o,a,s){if(t[r])t[r].push(o);else{var i,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==e+a){i=d;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+a),i.src=r),t[r]=[o];var p=function(e,n){i.onerror=i.onload=null,clearTimeout(f);var o=t[r];if(delete t[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t=function(t,e,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=i,o.parentNode.removeChild(o),r(c)}};return o.onerror=o.onload=a,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===t||a===e))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],a=o.getAttribute("data-href");if(a===t||a===e)return o}},r=function(r){return new Promise((function(o,a){var s=n.miniCssF(r),i=n.p+s;if(e(s,i))return o();t(r,i,o,a)}))},o={143:0};n.f.miniCss=function(t,e){var n={233:1,490:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=a);var s=n.p+n.u(e),i=new Error,c=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};n.l(s,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,s=r[0],i=r[1],c=r[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var l=c(n)}for(e&&e(r);u<s.length;u++)a=s[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(l)},r=self["webpackChunkfinal_front"]=self["webpackChunkfinal_front"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1857)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.70862c73.js.map