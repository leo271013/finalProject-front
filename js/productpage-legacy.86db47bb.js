"use strict";(self["webpackChunkfinal_front"]=self["webpackChunkfinal_front"]||[]).push([[233],{2864:function(t,e,s){s.r(e),s.d(e,{default:function(){return A}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"productpage mx-8 px-8"},[s("div",{staticClass:"mt-16 mx-8 px-8"},[s("v-breadcrumbs",{attrs:{items:t.address,large:""}}),s("v-row",{staticClass:"mt-8 ml-8"},[s("v-col",{attrs:{cols:"6"}},[s("v-img",{attrs:{src:t.img,width:"500"}})],1),s("v-col",{staticClass:"ml-16",attrs:{cols:"4"}},[s("v-list",{attrs:{flat:""}},[s("v-subheader",{staticClass:"text-h4 mb-8 pink--text borderEdit"},[t._v("商品內容")]),t._l(t.product,(function(e){return s("v-list-item",{key:e.title},[s("v-list-item-icon",{staticClass:"mx-0"},[s("v-icon",{attrs:{color:"pink"}},[t._v("mdi-circle-small")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.title)+": "),s("span",{staticClass:"text-h6 ml-2"},[t._v(" "+t._s(e.content))])])],1)],1)}))],2),s("v-btn",{staticClass:"mt-6",attrs:{block:"",dark:"",color:"orange darken-2",disabled:t.isMe},on:{click:function(e){return t.sendMessage()}}},[t._v("聯絡賣家")]),t.user.isAdmin?s("v-btn",{staticClass:"mt-6",attrs:{block:"",outlined:"",color:"red"},on:{click:t.unsell}},[t._v("違規下架")]):t._e()],1)],1),s("v-divider",{staticClass:"my-12"}),s("v-row",[s("v-col",[[s("v-card",{staticClass:"mx-auto transparent",attrs:{flat:""}},[s("v-card-title",{staticClass:"text-h4 pink--text borderEdit py-0 mb-16"},[t._v("商品介紹")]),s("v-card",{staticClass:"mx-auto",attrs:{flat:"",width:"600"}},[s("v-carousel",{attrs:{cycle:"","hide-delimiter-background":"","show-arrows-on-hover":""}},t._l(t.items,(function(t,e){return s("v-carousel-item",{key:e,attrs:{src:t.src,"reverse-transition":"fade-transition",transition:"fade-transition"}})})),1)],1),s("v-card-title",[t._v(" "+t._s(t.title)+" ")]),s("v-card-text",[t._v(" "+t._s(t.content)+" ")])],1)]],2)],1)],1)])},r=[],n=s(6198),o=(s(5666),s(8309),s(8816)),a={name:"ProductPage",data:function(){return{product:[{title:"商品名稱",content:""},{title:"分類",content:""},{title:"商品新舊",content:""},{title:"以物易物",content:""},{title:"數量",content:""},{title:"交換對象",content:""}],items:[{src:"https://cdn.vuetifyjs.com/images/carousel/squirrel.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/sky.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/bird.jpg"},{src:"https://cdn.vuetifyjs.com/images/carousel/planet.jpg"}],address:[{text:"全部",to:"/"},{text:"",to:"/"}],title:"",content:"",img:"",text:"叮咚叮咚",sending:!1}},methods:{sendMessage:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.user.isLogin){e.next=4;break}alert("請先登入"),e.next=16;break;case 4:if(!t.sending&&0!==t.products.userId.length){e.next=6;break}return e.abrupt("return");case 6:return t.sending=!0,e.prev=7,e.next=10,t.api.post("/chats/members/".concat(t.products._id,"/messages"),{text:t.text,product:{userId:t.products.userId,title:t.products.name,image:t.products.image}},{headers:{authorization:"Bearer "+t.user.token}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](7),console.log(e.t0);case 15:t.sending=!1;case 16:o.Z.push("/memberpage/membermessage");case 17:case"end":return e.stop()}}),e,null,[[7,12]])})))()},unsell:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){var s,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r in s={sale:!1},i=new FormData,s)"_id"!==r&&i.append(r,s[r]);return e.prev=3,e.next=6,t.api.patch("/products/"+t.products._id,i,{headers:{authorization:"Bearer "+t.token}});case 6:return alert("下架成功"),e.next=9,t.api.post("/chats/members/".concat(t.products._id,"/messages"),{text:"因違反規定，管理員已將您的商品下架，請修改後重新上架",product:{userId:t.products.userId,title:t.products.name,image:t.products.image}},{headers:{authorization:"Bearer "+t.user.token}});case 9:o.Z.push("/"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),alert("下架失敗");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))()}},computed:{products:function(){return this.$store.state.product},user:function(){return this.$store.getters.user},isMe:function(){return this.products.userId===this.user.userId}},mounted:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.product[0].content=t.products.name,t.product[1].content=t.products.class,t.product[2].content=t.products.state,t.product[3].content=t.products.barter,t.product[4].content=t.products.quantity,t.product[5].content=t.products.goal,t.title=t.products.introTitle,t.content=t.products.introContent,t.img=t.products.image,t.items[0].src=t.products.image,document.title=t.products.name+" | Swapper";case 11:case"end":return e.stop()}}),e)})))()}},l=a,c=s(1001),u=s(3453),d=s.n(u),h=s(9367),m=s(5530),p=(0,m.Z)(h.Z).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(t){const{tag:e,data:s}=this.generateRouteLink();return t("li",[t(e,{...s,attrs:{...s.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},this.$slots.default)])}}),v=s(8131),g=(0,v.Ji)("v-breadcrumbs__divider","li"),f=s(2066),w=(0,m.Z)(f.Z).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(g,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const t=[],e=!!this.$scopedSlots.item,s=[];for(let i=0;i<this.items.length;i++){const r=this.items[i];s.push(r.text),e?t.push(this.$scopedSlots.item({item:r})):t.push(this.$createElement(p,{key:s.join("."),props:r},[r.text])),i<this.items.length-1&&t.push(this.genDivider())}return t}},render(t){const e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}}),b=s(6847),C=s(2026),T=s(5255),x=s(7813),k=s(9690),y=s(7024),Z=s(5596),_=s(4456),$=s(5288),I=s(893),V=s(907),B=s(8218),D=s(3560),S=s(7894),E=s(6975),G=(0,c.Z)(l,i,r,!1,null,"4de8ae44",null),A=G.exports;d()(G,{VBreadcrumbs:w,VBtn:b.Z,VCard:C.Z,VCardText:T.ZB,VCardTitle:T.EB,VCarousel:x.Z,VCarouselItem:k.Z,VCol:y.Z,VDivider:Z.Z,VIcon:_.Z,VImg:$.Z,VList:I.Z,VListItem:V.Z,VListItemContent:B.km,VListItemIcon:D.Z,VListItemTitle:B.V9,VRow:S.Z,VSubheader:E.Z})},7813:function(t,e,s){s.d(e,{Z:function(){return d}});var i=s(3269),r=s(8205),n=s(9524),o=s(5174),a=s(7228),l=a.y.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return a.y.options.computed.classes.call(this)}},methods:{genData:a.y.options.methods.genData}}),c=s(8131),u=s(8219),d=i.Z.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:t=>t>0},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},provide(){return{parentTheme:this.theme}},data(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes(){return{...i.Z.options.computed.classes.call(this),"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical}},isDark(){return this.dark||!this.light},isVertical(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height(t,e){t!==e&&t&&(this.internalHeight=t)},cycle(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created(){this.$attrs.hasOwnProperty("hide-controls")&&(0,u.fK)("hide-controls",':show-arrows="false"',this)},mounted(){this.startTimeout()},methods:{genControlIcons(){return this.isVertical?null:i.Z.options.methods.genControlIcons.call(this)},genDelimiters(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems(){const t=this.items.length,e=[];for(let s=0;s<t;s++){const i=this.$createElement(r.Z,{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",s+1,t)},props:{icon:!0,small:!0,value:this.getValue(this.items[s],s)}},[this.$createElement(n.Z,{props:{size:18}},this.delimiterIcon)]);e.push(i)}return this.$createElement(l,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:t=>{this.internalValue=t}}},e)},genProgress(){return this.$createElement(o.Z,{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render(t){const e=i.Z.options.render.call(this,t);return e.data.style=`height: ${(0,c.kb)(this.height)};`,this.hideDelimiters||e.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&e.children.push(this.genProgress()),e}})},9690:function(t,e,s){s.d(e,{Z:function(){return m}});var i=s(6986),r=s(1302),n=s(2706),o=s(8131),a=s(5530);const l=(0,a.Z)(i.Z,(0,r.d)("windowGroup","v-window-item","v-window"));var c=l.extend().extend().extend({name:"v-window-item",directives:{Touch:n.Z},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,o.kb)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,o.kb)(t.clientHeight))}))}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}}),u=s(5288),d=s(9367);const h=(0,a.Z)(c,d.Z);var m=h.extend().extend({name:"v-carousel-item",inject:{parentTheme:{default:{isDark:!1}}},provide(){return{theme:this.parentTheme}},inheritAttrs:!1,methods:{genDefaultSlot(){return[this.$createElement(u.Z,{staticClass:"v-carousel__item",props:{...this.$attrs,height:this.windowGroup.internalHeight},on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},(0,o.z9)(this))]},genWindowItem(){const{tag:t,data:e}=this.generateRouteLink();return e.staticClass="v-window-item",e.directives.push({name:"show",value:this.isActive}),this.$createElement(t,e,this.genDefaultSlot())}}})},6975:function(t,e,s){s.d(e,{Z:function(){return n}});var i=s(2066),r=s(5530),n=(0,r.Z)(i.Z).extend({name:"v-subheader",props:{inset:Boolean},render(t){return t("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})}}]);
//# sourceMappingURL=productpage-legacy.86db47bb.js.map